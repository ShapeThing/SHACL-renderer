@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix schema: <https://schema.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dash: <http://datashapes.org/dash#> .
@prefix stsr: <http://ontology.shapething.com/shacl-renderer#> .
@prefix stf: <http://ontology.shapething.com/facet#> .
@prefix dbc: <http://dbpedia.org/resource/Category:> .
@prefix wdt: <http://www.wikidata.org/prop/direct/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix faker: <https://fakerjs.dev/> .

<>
  a sh:NodeShape ;
  sh:targetClass stsr:Shape ;
  stsr:ignoreUnknownProperties true ;
  sh:name "Shape"@en, "Vorm"@nl ;
  sh:ignoredProperties ( faker:generator sh:in sh:editor rdf:type sh:ignoredProperties ) ;

  sh:property [
    sh:path rdf:type ;
    sh:hasValue stsr:Shape ;
  ];

  sh:property [
    sh:path rdf:type ;
    sh:hasValue sh:NodeShape ;
  ];


  sh:property [
    sh:name "Properties"@en, "Eigenschappen"@nl ;
    sh:minCount 1;
    sh:order 9;
    sh:path sh:property ;
    # stsr:nestedOrder sh:order ;
    sh:nodeKind sh:BlankNode ;
    sh:description "Dit zijn de eigenschappen van het type. De velden in het formulier. Je kunt de volgorde aanpassen door te slepen."@nl, "These are the properties of the type. The fields in the form. You can change the order by dragging."@en ;
    sh:node <#propertyShape>;
  ];

.

<#groupProperty> 
    sh:name "Group"@en, "Groep"@nl ;
    sh:description "Dit toont de eigenschap in een groep samen met andere eigenschappen."@nl, "This shows the property in a group together with other properties."@en ;
    # sh:group <#propertyShapeGroup> ;
    sh:maxCount 1;
    sh:order 6;
    sh:path sh:group ;
    sh:class sh:PropertyGroup ;
    sh:in [
      sh:select """
        prefix sh: <http://www.w3.org/ns/shacl#>

        SELECT distinct ?value ?label
        WHERE {
          ?value a sh:PropertyGroup .
          optional {
            ?value sh:name ?name .
          }
          bind(coalesce(?name, strafter(str(?value), "#"), strafter(str(?value), "/")) as ?label)
        }
        """ ;
    ] .

xsd:string rdfs:label "Text"@en, "Tekst"@nl .
xsd:integer rdfs:label "Integer"@en, "Nummer"@nl .
xsd:decimal rdfs:label "Decimal"@en, "Decimaal"@nl .
rdf:langString rdfs:label "Multilingual text"@en, "Meertalige tekst"@nl .

stsr:Shape rdfs:subClassOf sh:NodeShape .
stsr:SubShape rdfs:subClassOf sh:NodeShape .

<#propertyShape>
  sh:closed true ;
  a sh:NodeShape, stsr:SubShape ;
  sh:name "Property"@en, "Eigenschap"@nl ;

  sh:ignoredProperties ( faker:generator sh:in sh:editor rdf:type sh:nodeKind rdf:nil ) ;

  sh:property [
    sh:name "Property name"@en, "Eigenschap naam"@nl ;
    sh:minCount 1;
    sh:order 1;
		sh:uniqueLang true ;
    sh:group <#propertyShapeGroup> ;
    sh:path sh:name ;
    sh:description "De naam van deze eigenschap zoals deze getoond wordt in het formulier."@nl, "The name of this property as it will appear in the form."@en ;
    sh:datatype rdf:langString ;
  ];
  .